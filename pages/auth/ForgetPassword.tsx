import React, { useState, useEffect } from 'react';
import { useRouter } from 'next/router';
import Input from '../../components/Inputs/Input'; // Adjust the path according to your file structure
import { selectUserStatus, selectUserError } from '../../lib/features/user/slice';
import { useAppDispatch, useAppSelector } from '../../lib/hooks'; // Adjust the import path
import { forgetPassword } from '@/lib/features/user/thunks';

const PasswordEmailForm = () => {
    const dispatch = useAppDispatch();
    const router = useRouter();
    const status = useAppSelector(selectUserStatus);
    const error = useAppSelector(selectUserError);

    const [formData, setFormData] = useState({
        email: '',
    });

    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
        setFormData({ ...formData, [e.target.name]: e.target.value });
    };

    const handleSubmit = (e: React.FormEvent) => {
        e.preventDefault();
        dispatch(forgetPassword({ email: formData.email }));
    };

    return (
        <div className="flex justify-center items-start h-screen mt-4 md:mt-16 lg:mt-36">
            <form onSubmit={handleSubmit} className="w-full px-4 md:w-full lg:max-w-xl xl:max-w-2xl mx-auto bg-white p-6 rounded-[25px] border border-light-gray">
                <h1 className={`text-xl md:text-2xl font-bold text-center uppercase pb-4 ${(status === 'succeeded' || status === 'failed') ? "mb-1" : "mb-4"} border-b border-light-gray`}>
                    Change Password
                </h1>
                {status === 'idle' && (
                    <>
                        <div className="text-left mt-10">
                            <p className="text-sm md:text-base">
                                Enter your email for password change. If your email is available, we will send a link to it to update your password.
                            </p>
                        </div>

                        <Input headerText="Email" placeholder="Email" name="email" value={formData.email} onChange={handleChange} type="email"/>


                        <div className="mt-10 flex flex-col md:flex-row justify-between items-center w-full">
                            <p className="text-xs md:text-sm order-2 md:order-1">
                                <Link href="/auth/Login" className="text-primary"><span className="text-lg">&#8592;</span> Go Back</Link>
                            </p>
                            <button className="w-full md:w-auto px-12 py-2 bg-primary text-black rounded-[25px] uppercase mb-4 md:mb-0 order-1 md:order-2 text-sm">
                                Submit
                            </button>
                        </div>
                    </>
                )}

                {status !== 'idle' && (
                    <>
                        <div className="flex flex-col xs:flex-row items-center mt-10">
                            <svg className="w-1/2 xs:w-1/3 h-auto mb-4 md:mb-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400">
                                <g fill="#000000">
                                    <path d="M103.56 193.38c-1.88 0.3 -3.34 2.72 -4.1 6.56 -2 10 0.68 27.04 5.82 36 1.3 2.3 3.62 5.52 6.24 5.08 6.3 -1.06 4.9 -19 3.82 -25.32s-5.8 -23.32 -11.78 -22.32zm11.58 38.14c-1.58 15.38 -10.44 9.3 -14.28 -13.28 -1.02 -5.8 -2.44 -23.34 2.76 -24.2 5.82 -0.98 9.88 16 10.8 21.88a61.2 61.2 0 0 1 0.72 15.6z" stroke-width="1"></path><path d="M325.24 164.16h-17.66c0 -3.14 -0.38 -49.52 -0.48 -59.6a40.68 40.68 0 0 0 -41.74 -40.18l-6.3 0.16a40.72 40.72 0 0 0 -39.64 40.52V164.4h-17.64a0.46 0.46 0 0 0 -0.44 0.52v37.2l-59.6 6.36a24.42 24.42 0 0 0 -10 -3.3 40.48 40.48 0 0 0 -2.66 -8.74l3.08 -1.3a0.38 0.38 0 0 0 0.22 -0.46 76.26 76.26 0 0 0 -3.36 -10.32c-6.86 -16.56 -19.3 -26.54 -30 -29l0.98 -3.24a11.58 11.58 0 0 0 7.44 -2 12.54 12.54 0 0 0 4.34 -5.34 5.46 5.46 0 0 0 3.78 -1.1 13.44 13.44 0 0 1 4 -3.16c2 -0.96 -0.32 -1.36 -1.04 -2.68s2.22 -2 3.18 -3.78 -1.04 -1.08 -1.6 -3.62 2 -2.34 1.68 -5.14 -5.24 -1.66 -3.78 -3.7 2.94 -4 0.96 -6.58 -6.88 0.84 -6.3 -1.78 3.34 -3.24 0.2 -4.98 -3.12 2.16 -4.54 -1.1S105.6 101.32 104 103s-0.58 -2.7 -3.7 -1.34 -1.3 4.24 -3.54 1.78 -2.92 -4.44 -4.42 -2.28 -2.22 -1.74 -4.68 0 -0.48 1.8 -3.7 1.8 -5.26 2 -4.38 3.4 2 2.56 -1.54 2.78 -7.44 1.1 -5.84 2.62 0.2 1.14 -0.76 3.14 2.44 1.7 0.8 2.4 -5.68 -1.12 -7.28 1.66 0.14 0.36 1.72 1.7 1.88 -0.46 -0.46 2.72 -1.86 2 0 2.58 -0.88 0.42 -1.14 3.3 2 0.8 3.24 1.56 -1.08 2.74 -0.4 4.28 0.42 2 3.06 1.36 2.12 -0.38 2.28 2 0.18 3.36 2.7 2.78 1.84 -1.06 3.14 1.12 1.72 2.58 3.68 2.3l0.9 -0.14 -2.3 4.66c-9.48 -0.14 -22.34 3.76 -32.7 11.56a62 62 0 0 0 -14.42 15.48 76.22 76.22 0 0 0 -6.62 12.5l0.32 0.68 7 2c-0.56 2 -2.9 11.04 -0.88 19.08a16.76 16.76 0 0 0 6.36 9.84c-0.6 7.38 -0.74 20.2 1.72 27.24a0.2 0.2 0 0 0 0.26 0.12 0.2 0.2 0 0 0 0.12 -0.26c-1.46 -4.74 -1.56 -21.6 -1.62 -26.78 11.32 7.58 45.46 14.26 50.44 3.14 0.14 -1.34 0.4 -1.18 1.6 -0.58a57.06 57.06 0 0 0 6 16.34c-17.06 2.3 -44.44 6 -56.52 8.14 10 48.16 22.98 73.54 22.98 73.54L57 318a0.2 0.2 0 0 0 -0.1 -0.26c-0.82 -0.28 -10.94 -5.36 -12.38 -2.48s-0.22 10.88 0.68 14.5a18.5 18.5 0 0 0 2.8 6.58 3.86 3.86 0 0 0 2.82 1.72c2.84 0.14 0.12 -8.44 -0.76 -11.14l2.78 2.74a0.18 0.18 0 0 0 0.28 0 40.12 40.12 0 0 0 18 10.9c19.32 6 21.8 -67.12 21.8 -67.12l47.62 -1.8L129.28 328a0.18 0.18 0 0 0 -0.24 0.12c-0.32 1.22 -4.14 10 -1.66 11.42s30.4 2 26 -2.78c-2 -2.18 -11.18 -3.78 -14.12 -4.24 1.1 -4.54 1.28 -4.56 1.06 -4.72 2.14 -3.5 26.76 -44 29.48 -68.18 2.12 -19.04 -30.8 -22 -47.14 -22.2a52.62 52.62 0 0 0 1.24 -15.86c1.32 0 6.7 0.16 12.6 0 15.62 -0.22 18.4 -1.12 19.68 -4.3l45.24 -4.16v57.44c0 0.34 0.14 0.72 0.48 0.72h123.44c0.46 0 0.84 -0.24 0.84 -0.72V165a0.84 0.84 0 0 0 -0.94 -0.84zm-272.2 165 -3.46 -3.76a0.32 0.32 0 0 0 -0.54 0.34c0 0.2 3.18 11.3 1.84 11.22a2.96 2.96 0 0 1 -2 -1.36 17.58 17.58 0 0 1 -2.6 -6.2c-0.88 -3.5 -1.88 -10.9 -0.96 -13.6 0.7 -2 9.14 1.26 11.16 2 -4.48 4 -3.68 10.2 -3.44 11.36zm85.44 3.62a0.32 0.32 0 0 0 0 0.24 0.24 0.24 0 0 0 0.22 0.14c0.2 0 16.6 3.46 13.66 5 -1.7 0.96 -7.34 1.24 -9.24 1.32 -3.74 0.16 -7.84 0 -10.92 0 -5.14 -0.28 -5.2 -0.3 -4.82 -3.36a46.96 46.96 0 0 1 2 -7.7 0.34 0.34 0 0 0 0 -0.2h10.44zm82 -197.88c0.12 -9.4 0.24 -20 0.36 -29.84a39.28 39.28 0 0 1 38.26 -38.92l6.3 -0.14a39.28 39.28 0 0 1 40.26 38.6c0.22 10 0.96 56.42 1.02 59.58H302c0 -3.02 -0.52 -46.84 -0.58 -56.38a38 38 0 0 0 -75.88 0.16c0 9.38 -0.16 54.9 -0.16 56.46h-4.98c-0.04 -2.18 -0.1 -14.42 0.08 -29.52zm80.52 29.26 -74.74 0.22c0 -1.58 0.62 -47.04 0.74 -56.44a36.42 36.42 0 0 1 72.82 -0.14c0.18 9.54 1.1 53.34 1.18 56.36zM128.1 184.8a74.3 74.3 0 0 1 3.42 9.84c-12.52 5.82 -12.48 5.48 -12.32 5.84a0.2 0.2 0 0 0 0.26 0.12l9.14 -3.88c0 0.26 2.42 8 2.54 8.48a25.76 25.76 0 0 0 -3.46 -0.14 0.16 0.16 0 1 0 0 0.3 54.7 54.7 0 0 1 5.46 0.84 39.32 39.32 0 0 1 8 2.42l-18.92 2C117.48 189.6 104.64 177.82 96.52 188a131 131 0 0 0 -3.7 -29.32 1.32 1.32 0 0 1 0.48 0.36 17.54 17.54 0 0 1 2.26 5.36 0.44 0.44 0 0 0 0.3 0.32 0.4 0.4 0 0 0 0.44 0 15.38 15.38 0 0 0 4.16 -7.84c10.32 3.32 21.02 12.4 27.64 27.92zM100 156.68a14 14 0 0 1 -3.8 6.78 17.76 17.76 0 0 0 -1.54 -4.14 5.22 5.22 0 0 0 -0.62 -0.88 10.66 10.66 0 0 0 4.28 -2.2 13.18 13.18 0 0 1 1.68 0.44zm13.54 -20.88 -6 -0.22 -0.36 -4a0.28 0.28 0 0 0 0 -0.18c-0.12 -1.2 -0.22 -2.26 -0.26 -2.7h6.9a50 50 0 0 1 -0.28 7.1zM88 126.48c0.18 -2.36 0.68 -1.1 1.84 -2.42s-2.18 -1.86 -1 -3.3 3.38 0.24 4 -2.34 -0.2 -3.68 1.84 -3.66 0.98 2.72 3.14 2.28 0.12 1.34 2 2 0.14 2.36 1.9 2 2.54 -0.26 2 -2 0.4 -2.64 1.74 -2S103.78 120 106 120s0.8 1.7 2.92 1.9a35.08 35.08 0 0 1 3.52 0.5c2.5 0.4 -0.58 1.66 1.04 1.88 0 0 0.18 1.32 0.28 3.44l-7.12 0.52a0.18 0.18 0 0 0 -0.16 0 0.28 0.28 0 0 0 0 0.14v2.12l-0.24 -0.12a3.72 3.72 0 0 0 -3.16 0.46c0.2 -1.36 0.34 -2.42 0.34 -2.42a0.16 0.16 0 0 0 0 -0.16 0.16 0.16 0 0 0 -0.14 0l-11.68 -1.08a0.54 0.54 0 0 0 -0.4 0.16 0.52 0.52 0 0 0 -0.14 0.38v0.1a19.66 19.66 0 0 0 -3.2 1.02c0.14 -0.62 0.14 -1.34 0.14 -2.36zM106.66 134c-0.34 -0.98 -0.64 -1.68 -1.06 -2.66h0.98c0 0.34 0.06 2.06 0.08 2.66zm-3.66 -5.4 -1.56 7.76 -8.58 0.32 -0.76 -8.54zM82 149.52l2.44 -5.22c0.98 -0.28 1.44 -0.7 1.14 -1.56a28 28 0 0 1 -2.6 -6A3.66 3.66 0 0 1 78.46 134s2.16 -2.88 3.74 -1.02 3.16 2 3.14 -0.16c0 -1.22 0 -1.66 0.22 -2l1.76 -0.68a24 24 0 0 0 3.48 -1.62l0.32 -0.18 0.76 8.94a0.52 0.52 0 0 0 0.54 0.48l9.4 -0.5a0.42 0.42 0 0 0 0.42 -0.36s0.74 -5 0.8 -5.38c0.58 0 1.84 -0.22 2 -0.22a42.72 42.72 0 0 0 1.8 6.28c-6 3.12 1.36 0.52 0.8 0.7a0.5 0.5 0 0 0 0.26 -0.6s-0.12 -0.48 -0.34 -1.16l6 0.32a35.86 35.86 0 0 1 -2 8 12.1 12.1 0 0 1 -4.2 4.86 10.94 10.94 0 0 1 -7.32 1.62 0.4 0.4 0 0 0 -0.46 0.28l-1.38 4a0.34 0.34 0 0 0 -0.2 0.4 10.44 10.44 0 0 1 -4.38 1.64c-4.96 0.56 -9.22 -3.92 -11.62 -8.12zm-0.42 0.16c1.72 4 5.28 8.16 9.62 8.86a12.52 12.52 0 0 0 -2 4.28A20.96 20.96 0 0 1 77.5 150a36.44 36.44 0 0 1 4 -0.32zM28.88 188.52a77.56 77.56 0 0 1 6.34 -11.8 61.84 61.84 0 0 1 14.16 -15.26A59.1 59.1 0 0 1 77.08 150a16 16 0 0 0 1.62 4.42c3.5 6.64 11.08 10.44 11.38 9.2a17.12 17.12 0 0 1 1.26 -3.56 3.58 3.58 0 0 1 0.78 -1.14 1.34 1.34 0 0 1 0.28 -0.22c0.74 5.68 3.3 22 3.66 30a21.16 21.16 0 0 0 -2.82 5.84 50.92 50.92 0 0 0 -1.56 20c-2.12 0 -3.28 -0.14 -4.64 5.34l-1.26 -0.64c-6.38 -3.28 -16.48 -8.4 -23.12 -11.28s0.76 -2 1.76 -5.2c3.28 -10.54 7.78 -31.22 -0.18 -38.92A0.2 0.2 0 1 0 64 164c6.76 7.06 2.76 26.36 0.5 35.66zm61.6 34.92c-4.88 10.42 -37.46 3.34 -48.38 -3.1a11.44 11.44 0 0 1 -1.16 -0.74 16 16 0 0 1 -6 -9.26c-2.1 -7.88 0.86 -16.6 1.38 -18.54 2.18 0.64 25.76 8 28 8.72 -0.2 0.86 -0.28 1.14 -0.48 1.88 -0.84 3.2 -1.48 5.24 -1.48 5.24 -1.54 -0.66 -2.88 -1.2 -3.88 -1.52a0.2 0.2 0 0 0 -0.26 0.12 0.2 0.2 0 0 0 0.14 0.26c5.54 2 21.64 10.42 26.82 13.16l2 1.04a0.38 0.38 0 0 0 0.44 0 0.52 0.52 0 0 0 0.18 -0.26v-0.32c0.24 -0.9 1.16 -4.28 2 -4.56a8.64 8.64 0 0 1 4 0c3.4 0.8 5.1 3.7 4 3.84a12.3 12.3 0 0 0 -2.96 -1.12c-4.56 -1.08 -4 0.94 -3.22 0.86a7.72 7.72 0 0 1 3.06 0.36c2.72 0.9 2.24 2 2.3 2.24a2.68 2.68 0 0 1 -1.14 -0.62 7.12 7.12 0 0 0 -4.3 -1.32 0.52 0.52 0 0 0 0 1.04 4.6 4.6 0 0 1 4.14 2.5c-1.38 -0.38 -4.96 -3.46 -5.2 0.1zm31.02 14.12c-1.24 4.7 -4 10.42 -8.7 11.24 -4.38 0.76 -8.48 -2.98 -11.16 -6.6a50.82 50.82 0 0 1 -7.64 -18.54 6.78 6.78 0 0 0 2 0.78c0.8 0 1.42 -0.46 0.78 -1.74 1.48 0.44 2 -1.12 1.24 -2.3 2.92 0 0.96 -4.66 -3.78 -5.74a6.68 6.68 0 0 0 -1.56 -0.26 50.38 50.38 0 0 1 1.58 -19.66c6.52 -19.32 23.34 -6.66 27.76 20a56.4 56.4 0 0 1 -0.52 22.82zm32.3 -18.48c-2.98 2 -26.24 2.2 -30 2.22v-0.74c5.26 -0.22 12.86 -0.88 18 -1.48 0 0 6 -0.82 6.16 -0.86 0.44 0.26 -0.8 -4.82 0.68 -6a0.26 0.26 0 0 1 0.24 0c1.14 0 1.12 5.32 1.8 5.22 0.32 0 0.28 -0.34 0.26 -0.54 -0.56 -4.52 0.72 -6.28 1.46 -5.32a12 12 0 0 1 1.04 4.44 0.4 0.4 0 0 0 0.8 0 9.62 9.62 0 0 1 0 -4.2 0.54 0.54 0 0 1 0.34 -0.32 0.5 0.5 0 0 1 0.24 0 1.62 1.62 0 0 1 0.44 0.56 6 6 0 0 1 -1.46 7.02zm29.28 -4.8 -26.86 2.72a6.86 6.86 0 0 0 0.32 -1.88 6.56 6.56 0 0 0 -1.04 -4 1.32 1.32 0 0 0 -1.26 -0.56 1.48 1.48 0 0 0 -1.04 1.02c-0.9 -1.88 -2.86 -1.3 -3.18 1.66 -0.2 -0.58 -0.58 -1.52 -1.2 -1.58a0.78 0.78 0 0 0 -0.64 0.22c-1.28 1.1 -0.84 4.38 -0.52 6l-6 0.34c-3 0.22 -12 1.04 -18 2 -0.16 -1.84 -0.4 -3.72 -0.7 -5.62q-0.3 -1.74 -0.66 -3.42l146.22 -14.82a7.16 7.16 0 0 1 2 4.62 8.68 8.68 0 0 1 -1.52 4.94zM254.52 238l-3.86 0.44 -0.88 -8.44a0.52 0.52 0 0 0 -0.56 -0.46l-3.4 0.28a0.5 0.5 0 0 0 -0.46 0.54l0.34 6 -3.74 0.24 -0.88 -6.2a0.5 0.5 0 0 0 -0.54 -0.44l-4.88 0.42a0.48 0.48 0 0 0 -0.44 0.52l0.48 12.42 -6.94 0.9 -3.14 -33.3c18.58 -1.74 34.58 -3.28 41 -4l2.1 37.08 -6.42 0.58 -1.06 -15.7a0.48 0.48 0 0 0 -0.18 -0.36 0.5 0.5 0 0 0 -0.36 -0.12l-6.5 0.48a0.44 0.44 0 0 0 -0.34 0.18 0.52 0.52 0 0 0 -0.14 0.38zm69.88 31.84 -121.64 0.24 -0.24 -56.66c7.22 -0.66 22 -2.34 22 -2.34l3.48 33.74a0.38 0.38 0 0 0 0.16 0.3 0.44 0.44 0 0 0 0.32 0l7.8 -0.92a0.46 0.46 0 0 0 0.4 -0.48l-0.42 -12.4 4 -0.32 0.86 6.22a0.52 0.52 0 0 0 0.54 0.44l4.72 -0.32a0.52 0.52 0 0 0 0.46 -0.54l-0.34 -6 2.4 -0.2 0.9 8.48a0.44 0.44 0 0 0 0.18 0.34 0.62 0.62 0 0 0 0.38 0.12l4.88 -0.56a0.52 0.52 0 0 0 0.46 -0.56l-0.8 -8.64 4.64 -0.34 -6.56 27.3 28.96 -0.44 -9.94 -46.48a14.42 14.42 0 0 0 9.42 -13.44 14.68 14.68 0 0 0 -29.36 0v0.54c-7.48 0.78 -41.86 4.14 -49.58 4.94l0.24 -36.36 121.68 0.34zm-41.78 45a67.8 67.8 0 0 0 -16.78 1.1c-12.26 2.84 -6.18 10 16.34 10.88a64.9 64.9 0 0 0 16.82 -1.32c11.16 -2.74 7.9 -9.8 -16.38 -10.66zm13.82 10.18a79.72 79.72 0 0 1 -28.34 -1.02c-9.72 -2.4 -10.28 -5.82 0.24 -7.78a69.82 69.82 0 0 1 28.4 1c9.96 2.6 10.1 6 -0.3 7.8z" stroke-width="1"></path><path d="M302 311.36a103.36 103.36 0 0 0 -32.28 -2c-6.56 0.7 -16.52 2.66 -19.14 8.74 -3.74 8.64 7.56 12.54 16.88 13.62L231.68 360a0.42 0.42 0 0 0 -0.14 0.46 0.18 0.18 0 0 0 0 0.12c-3.82 6.82 4.44 13.4 10 6.86 0.46 0 -2 2 38.3 -33.44 8.98 0.58 27.5 1.14 33.44 -5.66a7.2 7.2 0 0 0 0.18 -9.12 20.12 20.12 0 0 0 -11.46 -7.86zm-60.8 55.5a0.34 0.34 0 0 0 0 0.24c-4.86 4.34 -10.46 0.98 -9.68 -4.56a8.8 8.8 0 0 1 0.46 -1.8l5.2 0.3 -0.42 3.4a0.48 0.48 0 0 0 0.18 0.42 0.44 0.44 0 0 0 0.44 0l4.62 -2zm71.32 -39.2c-5.64 6.44 -24.26 5.84 -32.8 5.26l-0.38 0.14 -36.92 32.58 0.68 -3.34a0.46 0.46 0 0 0 -0.16 -0.46 0.46 0.46 0 0 0 -0.48 0l-4.7 2 0.36 -3.1a0.36 0.36 0 0 0 0 -0.32 0.42 0.42 0 0 0 -0.32 -0.16l-4.16 -0.26 35.62 -28.74a0.22 0.22 0 0 0 0 -0.22 0.2 0.2 0 0 0 -0.18 -0.14c-0.2 0 -22.42 -1.56 -17.58 -12.5 2.36 -5.36 12.56 -7.6 18.38 -8.18a103.18 103.18 0 0 1 32 2.14 19.08 19.08 0 0 1 10.84 7.44 6.22 6.22 0 0 1 -0.2 7.86zM147.4 359.08a6.44 6.44 0 0 0 0.4 -4.38 6.14 6.14 0 0 0 -3.32 -3.62 0.5 0.5 0 0 0 -0.3 0c-0.18 -0.12 -74 16 -74.64 17.84 -0.1 0.22 0 0.26 2.58 1.54 -3.78 1.52 -2.54 8 3.78 6.64 0.2 0 2.78 -0.64 9.34 -2.22 0.2 0.1 32.6 15.24 32.88 15.14l10.24 -3.18a0.32 0.32 0 0 0 0.22 -0.3l-0.16 -3.74c0.18 -0.32 0.1 -0.12 -6.74 -4.38l0.44 -0.1h0.32l1.54 1.12a27.66 27.66 0 0 0 4.52 2.56c0.56 -0.1 7.1 -1.46 7.08 -2 0 -0.2 -0.42 -3.4 -0.38 -3.2l3.8 2.58c0.24 0.16 0 0 5.74 -1.62a0.26 0.26 0 0 0 0.2 -0.26v-3.42c0.34 -0.38 -0.48 -0.62 -0.66 -0.82a12.1 12.1 0 0 0 2.4 -0.62c0.1 0.12 5.5 2.58 5.64 2.64l3.46 1.44c0.16 0.66 0.92 -0.22 12.98 -4.32a0.28 0.28 0 0 0 0.18 -0.24l0.14 -4.52c0.3 -0.62 -0.7 -0.32 -21.68 -8.56zm-71.82 17.58a12.22 12.22 0 0 1 -1.28 0c-2.58 -0.34 -3.68 -2.3 -3.14 -4s2.7 -1.42 2.8 -2 -0.58 -0.62 -2.2 -1.2l-0.3 -0.1 5.24 0.88 -2.7 3.08a0.28 0.28 0 0 0 0 0.32 0.26 0.26 0 0 0 0.26 0.16h4.1c-2.76 2.78 -2.76 2.64 -2.78 2.86zm1.48 -0.6c0.56 -0.72 3.44 -2.98 2.14 -2.96h-4.28c1.26 -1.78 3.16 -3.28 2.3 -3.42l-6 -0.88c1.18 -0.26 17.2 -4.46 34 -8.3 18.7 -4.32 38.3 -8.34 39.08 -8.52a4.98 4.98 0 0 1 2.56 2.9 5.66 5.66 0 0 1 -0.42 3.88zm31.32 8.52c-3.1 -1.42 -21.26 -9.42 -22.44 -10l4 -0.96 27.78 12a9.24 9.24 0 0 0 0 3.28c-1 -0.5 -4.76 -2.24 -9.34 -4.32zm19.6 1.7 -9.76 2.66a9.2 9.2 0 0 0 -0.12 -3.26l10 -2.74zm-6.82 -8.18 -3.7 -2.32 4.74 -0.86v2.8zm6.94 3.16c-0.34 -0.2 -2.74 -1.76 -3.84 -2.36 -0.78 -0.42 -1.4 -1.02 -1.64 -1.14v-2.68l5.9 3.68c-0.28 0.82 -0.38 1.68 -0.42 2.5zm0.56 0.46v-2.96l6.3 -1.74v2.82c-2.68 0.7 -4.32 1.18 -6.3 1.88zm10.22 -3.18c-0.32 -0.18 -2.32 -1.46 -4.5 -2.7a12.76 12.76 0 0 0 -0.2 -3.4l4.8 3.14a9.52 9.52 0 0 0 -0.1 2.96zm5.74 -4.38 -0.22 3.1c-0.36 0.1 -4.52 1.3 -5.06 1.48a9.68 9.68 0 0 0 0 -3.14zm2 -3.6v1.84a14.54 14.54 0 0 0 -2.66 0.6l-4.62 -3.18 7.36 -1.84c-0.06 0.5 -0.1 1.6 -0.12 2.58zm9.18 5.82 -3.24 -1.66c-0.92 -0.44 -4.94 -2.32 -5.34 -2.48v-1.7c0 -0.72 -0.12 -2 -0.16 -2.52 5.1 2.44 8.62 4.16 8.82 4.18zm-8.9 -16.58a0.6 0.6 0 0 0 0.34 -0.24l20.8 8 -12.18 4.16c-9.3 -4.4 -8.86 -4.28 -9.06 -4.24l-8.18 2a0.32 0.32 0 0 0 -0.2 0.22 0.3 0.3 0 0 0 0 0.28l4.88 3.36 0.62 0.42 -4.88 1.3c-5.46 -3.54 -5.22 -3.5 -5.42 -3.44l-5.4 1.26a0.26 0.26 0 0 0 -0.22 0.22 0.28 0.28 0 0 0 0.14 0.26l6 3.3 -5.74 1.6 -6.14 -4a0.3 0.3 0 0 0 -0.18 0l-5.72 1.26a0.22 0.22 0 0 0 -0.18 0.2 0.22 0.22 0 0 0 0.1 0.24l10.78 6.72 -9.06 2.38 -27.1 -11.44zm-12.76 16.2zm-0.26 -0.44 -0.32 0.12 -4.42 -2.44 4.62 -1.08a15 15 0 0 0 0.12 3.4zM168.38 372l-12.12 4.34 -0.26 -4.2 12.7 -4.34zM258.44 10a113.16 113.16 0 0 0 -90 182.58 1.08 1.08 0 0 0 1.48 0.2 1.06 1.06 0 0 0 0.2 -1.48 110.56 110.56 0 0 1 11.06 -144.16 109.18 109.18 0 0 1 77.32 -32c73.1 0 126.54 71.08 105.46 142a109.16 109.16 0 0 1 -12 26.64 70.32 70.32 0 0 0 -1.54 -9.58 0.7 0.7 0 0 0 -0.72 -0.62 0.68 0.68 0 0 0 -0.62 0.72 80.72 80.72 0 0 0 -0.28 9.5c0.14 3.68 0 4.78 1.04 5.38a1.56 1.56 0 0 0 1.54 0 73.66 73.66 0 0 0 12.62 -7.3 0.66 0.66 0 0 0 -0.6 -1.18 75.38 75.38 0 0 0 -8.98 3.46 112.96 112.96 0 0 0 12.36 -26C390.22 85.48 336.16 10.1 258.44 10zM102.2 145.04a3.58 3.58 0 0 1 3.24 -1.04h0.18c0.02 0 0 -0.14 0 -0.18a2.36 2.36 0 0 0 -3.34 0.6 2.12 2.12 0 0 0 -0.24 0.48 0.12 0.12 0 0 0 0 0.18 0.14 0.14 0 0 0 0.16 -0.04zm9.8 -13.58a0.68 0.68 0 0 0 -0.68 0.68 12.52 12.52 0 0 0 0 1.5 0.68 0.68 0 0 0 0.66 0.7 0.72 0.72 0 0 0 0.64 -0.74v-1.36a0.7 0.7 0 0 0 -0.62 -0.78zm-12.44 2.16a0.7 0.7 0 0 0 0.64 -0.74v-1.38a0.7 0.7 0 0 0 -0.6 -0.76 0.68 0.68 0 0 0 -0.68 0.68 12.52 12.52 0 0 0 0 1.5 0.68 0.68 0 0 0 0.64 0.7z" stroke-width="1">
                                    </path>
                                </g>
                            </svg>
                            <p className="w-full xs:w-2/3 text-sm md:text-base text-left md:ml-8">
                                Please Check your email. If it doesn't arrive within 10 minutes, please check your spam folder or contact support for help.
                            </p>
                        </div>
                    </>
                )}
            </form>
        </div>
    );
}

import nookies from "nookies";
import { GetServerSideProps } from "next";
import Link from 'next/link';
export const getServerSideProps: GetServerSideProps = async (context) => {
  // Check authentication (e.g., check cookies or token)
  const cookies = nookies.get(context);
  const token = cookies['access_token'];
  const refresh_token = cookies['refresh_token'];
  if (token && refresh_token) {
    return {
      redirect: {
        destination: '/',
        permanent: false,
      },
    };
  }
  return { props: {} };
};

export default PasswordEmailForm;
