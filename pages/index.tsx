// pages/index.tsx

import Loading from "@/components/Loading";
import NewsCard from "@/components/NewsCard";
import { selectNewsArticles, selectNewsStatus } from "@/lib/features/news/slice";
import { fetchNewsArticles } from "@/lib/features/news/thunks";
import { selectIsAuthenticated } from "@/lib/features/user/slice";
import { fetchUserFollowings } from "@/lib/features/user/thunks";
import { useAppDispatch, useAppSelector } from "@/lib/hooks";
import { loading } from "@/util/illustrations";
import { Router, useRouter } from "next/router";
import { useEffect, useState } from "react";

const Home: React.FC = () => {
  const dispatch = useAppDispatch();
  const router = useRouter();
  const isAuthenticated = useAppSelector(selectIsAuthenticated);
  const [newsArticles, setNewsArticles] = useState(useAppSelector(selectNewsArticles));

  useEffect(() => {
    if (isAuthenticated) {
        dispatch(fetchNewsArticles());
    }else{
      setNewsArticles([]);
      router.push("/landing")
    }
  }, [dispatch, isAuthenticated]);


  const newsStatus = useAppSelector(selectNewsStatus);
  if(newsStatus === 'loading'){
    return(
      <Loading />
    )
  }
  
  return (
    newsArticles.length > 0 ? (
      newsArticles.map((newsCard: {id:number , media: string[]; title: string; content: string; from: string; fromImage: string; publishedDate: string ; keywords: string[]; }) => (
        <NewsCard 
          id={newsCard.id}
          imageSrc={newsCard.media[0]} 
          title={newsCard.title} 
          description={newsCard.content}  
          from={newsCard.from}
          fromImage={newsCard.fromImage}
          date={newsCard.publishedDate}
          tags={newsCard.keywords}
        />
      ))
    ) : (
      <div className="flex flex-col items-center mt-40">
        <div className="p-5 pt-0 sm:p-0 sm:max-w-[400px]">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 400 400" className="md:w-48 md:h-48 w-40 h-40 mx-auto">
            <g id="emptystates-empty-order--e-commerce-emptystates-empty-order"><g id="box"><path id="vector" fill="#000000" d="M185.1 367.888c-0.552 0 -1 -0.45 -0.998 -1.002 0 -0.552 0.448 -0.998 1 -0.998 1.302 0.124 9.266 -0.092 17.018 -1.344 0.55 -0.088 1.058 0.282 1.146 0.828 0.088 0.546 -0.282 1.058 -0.828 1.146 -5.958 0.962 -11.62 1.37 -17.338 1.37Z" stroke-width="1"></path><path id="vector_2" fill="#000000" d="M185.11 373.566c-1.252 0 -1.354 -1.854 -0.11 -1.994l15.74 -1.764c0.536 -0.066 1.044 0.334 1.104 0.882 0.062 0.548 -0.334 1.044 -0.882 1.104l-15.852 1.77v0.002Z" stroke-width="1"></path><path id="vector_3" fill="#000000" d="M308.016 347.344c-0.7 0 -1.184 -0.702 -0.934 -1.356 1.212 -3.184 2.476 -7.03 2.676 -11.41 0.02 -0.412 0.29 -0.77 0.68 -0.902 3.436 -1.156 7.102 -1.878 10.438 -3 0.684 -0.234 1.388 0.326 1.314 1.052 -0.376 3.608 -1.238 7.152 -2.562 10.532 -0.752 1.922 -1.454 2.586 -3.414 3.234 -3.72 1.228 -7.694 1.85 -8.198 1.85Zm3.7 -11.98c-0.254 3.658 -1.176 6.918 -2.176 9.74 2.05 -0.352 4.078 -0.856 6.048 -1.508 1.398 -0.462 1.642 -0.692 2.178 -2.064 1.07 -2.734 1.824 -5.582 2.244 -8.482 -2.758 0.828 -5.604 1.458 -8.294 2.314Z" stroke-width="1"></path><path id="vector_4" fill="#000000" d="M390.958 292.38c-8.166 -26.878 -18.716 -48.376 -32.182 -70.112 -24.764 -39.9698 -61.678 -72.0078 -110.808 -99.1838 -9.918 -5.488 -13.694 -6.038 -24.044 -4.946 -61.992 6.554 -113.428 19.572 -157.028 40.216 -0.384 0.182 -0.364 0.174 -0.64 0.458 -9.45 9.686 -46.04 47.9398 -55.17998 57.2998 -2.714 2.778 -2.606 4.524 -0.648 7.014C42.4 263.8 75.462 305.858 117.016 338.44c0.382 0.298 0.922 0.282 1.282 -0.04 3.132 -2.788 6.224 -5.606 9.28 -8.448 15.992 17.318 35.294 36.944 53.494 49.728 0.192 0.134 0.362 0.198 0.616 0.196 48.814 -0.484 97.128 -15.798 133.772 -28.612 6.44 -2.252 8.264 -3.766 11.056 -10.386 3.248 -7.708 6.308 -15.576 9.176 -23.564 18.91 -7.186 36.792 -14.968 54.75 -23.746 0.442 -0.216 0.662 -0.72 0.518 -1.19l-0.002 0.002Zm-34.066 -69.398c-31.782 16.508 -65.676 26.092 -99.208 34.702 -10.474 -8.4 -28.574 -20.754 -39.926 -27.78 6.906 -29.198 15.788 -71.3258 19.31 -109.4858 2.844 0.752 5.812 2.138 9.928 4.416 48.576 26.868 84.68 59.152 109.896 98.1478Zm-101.638 35.324c-8.094 2.068 -16.166 4.088 -24.176 6.144 -16.91 4.34 -32.888 8.44 -50.266 9.17 -12.842 -8.162 -26.272 -18.652 -39.83 -31.002 26.792 -6.87 51.468 -10.546 75.368 -11.234 10.866 6.7 28.238 18.518 38.904 26.922Zm-31.122 -138.1778c4.666 -0.494 7.884 -0.65 10.968 -0.134 -3.494 38.088 -12.374 80.2098 -19.276 109.4058 -24.278 0.738 -49.352 4.538 -76.6 11.608 -24.048 -22.176 -48.434 -50.1298 -70.59 -81.2578 43.25 -20.15 94.192 -33.14 155.498 -39.622ZM117.592 336.35c-41.058 -32.364 -73.864 -74.096 -105.59198 -114.46 -1.324 -1.682 -1.5 -2.328 0.506 -4.38C21.704 208.092 58.08 170.0602 67.004 160.9102c28.944 40.6638 69.818 86.8778 111.986 113.9218 -18.888 20.282 -39.168 41.674 -61.398 61.518Zm207.078 3.75c-2.53 6.016 -3.898 7.186 -9.872 9.276 -36.304 12.694 -84.102 27.376 -132.356 28.482 -7.702 -31.046 -8.422 -77.526 -1.732 -100.444 10.426 23.38 15.896 50.864 20.602 77.08 0.086 0.478 0.502 0.822 0.984 0.822 0.548 0 35.4 -7.688 48.646 -11.216 30.9 -8.23 57.508 -16.552 82.286 -25.856 -2.688 7.402 -5.544 14.698 -8.558 21.856Zm-74.244 2.068c-12.124 3.228 -31.506 7.518 -47.33 10.952 -4.756 -26.416 -10.342 -54.048 -21.026 -77.556 17.13 -0.87 32.87 -4.91 49.506 -9.178 31.568 -8.102 85.094 -20.238 126.356 -41.692 13.194 21.034 23.574 43.716 30.862 67.45 -41.77 20.352 -83.212 35.332 -138.368 50.024Z" stroke-width="1"></path><path id="vector_5" fill="#000000" d="m48.904 235.056 -8.818 -11.744 6.028 -5.264c0.416 -0.364 0.458 -0.994 0.096 -1.41 -0.362 -0.416 -0.996 -0.458 -1.412 -0.096l-5.916 5.166 -3.418 -4.55c3.36 -3.584 7.116 -6.776 11.202 -9.514 0.458 -0.306 0.582 -0.928 0.274 -1.386 -0.306 -0.458 -0.928 -0.584 -1.386 -0.274 -4.116 2.756 -7.906 5.96 -11.306 9.55l-1.622 -2.16c-0.332 -0.442 -0.958 -0.53 -1.4 -0.2 -0.442 0.332 -0.532 0.958 -0.2 1.4l1.846 2.458c-0.98 1.1 -1.476 1.704 -2.812 3.322 -0.95 -1.388 -1.884 -2.784 -2.8 -4.188 -0.302 -0.462 -0.922 -0.592 -1.384 -0.292 -0.462 0.302 -0.592 0.92 -0.292 1.384 1.024 1.568 2.068 3.126 3.132 4.674 -1.884 2.14 -3.93 4.074 -6.476 5.032 -1.238 0.466 -0.536 2.334 0.704 1.872 2.806 -1.056 4.984 -3.024 6.948 -5.212 0.858 1.226 1.73 2.444 2.614 3.654l-10.422 9.1c-0.416 0.364 -0.458 0.996 -0.096 1.412 0.362 0.416 0.996 0.458 1.41 0.096l10.298 -8.99c4.096 5.514 8.438 10.852 12.984 15.962 0.368 0.412 0.998 0.452 1.412 0.082 0.412 -0.368 0.45 -0.998 0.082 -1.412 -4.542 -5.106 -8.878 -10.442 -12.968 -15.954l3.372 -2.944 8.73 11.626c0.326 0.434 0.95 0.536 1.4 0.2 0.442 -0.332 0.53 -0.958 0.2 -1.4h-0.004Zm-14.89 -9.098c-0.94 -1.29 -1.864 -2.588 -2.776 -3.896 0.304 -0.362 2.592 -3.094 2.858 -3.396l3.276 4.362 -3.358 2.93Z" stroke-width="1"></path><path id="vector_6" fill="#000000" d="M382.504 284.844c-0.178 -0.522 -0.748 -0.802 -1.27 -0.622 -2.212 0.758 -4.422 1.542 -6.628 2.342l-1.63 -4.398 3.64 -1.56c0.506 -0.216 0.742 -0.804 0.524 -1.312 -0.216 -0.508 -0.806 -0.744 -1.314 -0.526l-3.546 1.52 -2.69 -7.256c-0.192 -0.518 -0.77 -0.782 -1.286 -0.59 -0.518 0.192 -0.782 0.768 -0.59 1.286l2.724 7.35 -38.916 16.68c-0.996 0.428 -0.69 1.918 0.394 1.918 0.322 0 0.036 0.072 39.218 -16.722l1.592 4.3c-9.344 3.45 -18.6 7.27 -27.618 11.402 -0.972 0.444 -0.652 1.91 0.416 1.91 0.664 0 9.966 -4.816 27.896 -11.436l3.572 9.636c0.15 0.404 0.532 0.654 0.938 0.654 0.696 0 1.178 -0.694 0.938 -1.348l-3.57 -9.63c2.19 -0.796 4.384 -1.572 6.582 -2.326 0.522 -0.178 0.8 -0.748 0.622 -1.27l0.002 -0.002Z" stroke-width="1"></path></g><g id="insect 1"><path id="vector_7" fill="#000000" d="M204.572 134.558c-15.3822 -11.568 -27.4402 -27.576 -33.6482 -42.16 -2.212 -5.196 -3.892 -11.308 -2.4 -16.896 1.708 0.066 3.42 0.05 5.13 -0.052 2.856 -0.172 6.044 -0.376 8.582 -1.83 2.24 -1.284 3.812 -3.87 3.18 -6.5 -0.938 -3.908 -7.618 -4.962 -13.066 -0.406 -2.522 2.11 -4.104 4.556 -4.976 7.198 -8.612 -0.542 -17.062 -3.214 -24.534 -7.534 -11.222 -6.49 -17.804 -14.612 -23.456 -25.764 -0.302 -0.596 -1.32 -0.182 -1.092 0.46 5.95 16.884 26.006 32.796 48.664 34.344 -2.016 8.902 3.18 19.62 7.492 27.116 7.422 12.904 17.632 24.024 29.8042 32.572 0.338 0.236 0.638 -0.308 0.32 -0.548ZM182.0738 65.508c3.332 1.2 1.876 5.308 -0.436 6.704 -2.418 1.462 -5.588 1.588 -8.342 1.734 -1.428 0.076 -2.858 0.088 -4.284 0.044 2.712 -7.096 9.242 -9.858 13.062 -8.482Z" stroke-width="1"></path><path id="vector_8" fill="#000000" d="M112.0518 24.892c-0.802 0.244 -1.954 0.92 -3.084 1.702 0.702 -1.634 1.192 -3.052 1.23 -4.118 0.202 -5.76192 -7.7 -6.09792 -8.656 -0.954 -0.39 2.1 1.192 5.06 2.604 7.192 -2.72 -0.204 -6.518 -0.12 -8.066 0.352 -5.576 1.706 -2.948 9.376 1.878 9.376 2.26 0 3.974 -1.754 5.664 -3.464 -0.206 0.766 -0.33 1.432 -0.32 1.99 0.062 4.294 7.44 4.384 7.844 -0.538 0.102 -1.232 -0.796 -2.89 -1.802 -4.318 3.194 0.542 6.474 0.154 7.294 -2.98 0.726 -2.78 -1.268 -5.246 -4.586 -4.24Zm-8.544 -3.006c0.502 -2.69992 4.806 -2.80192 4.688 0.518 -0.042 1.256 -1.25 3.86 -2.084 5.644 -1.584 -2.312 -2.85 -4.844 -2.604 -6.162Zm-3.996 14.054c-3.388 2.192 -6.706 -3.782 -2.846 -4.962 1.522 -0.466 6.006 -0.42 7.998 -0.218 -1.34 1.786 -3.922 4.384 -5.152 5.18Zm9.642 0.324c-0.2 2.426 -3.828 2.364 -3.852 0.674 -0.016 -1.032 0.856 -3.368 1.412 -4.984 1.26 1.524 2.508 3.472 2.44 4.31Zm4.176 -6.176c-1.472 0.382 -3.592 0.216 -5.228 -0.34 1.388 -1.144 5.004 -4.036 6.292 -2.794 0.776 0.748 0.374 2.76 -1.064 3.134Z" stroke-width="1"></path></g><g id="insect 2"><path id="vector_9" fill="#000000" d="M321.53 127.3676c-0.478 -23.688 -41.756 -44.6338 -44.404 -70.9418 -0.644 -6.396 2.048 -13.142 8.432 -15.494 0.76 -0.28 0.47 -1.386 -0.336 -1.22 -4.85 0.992 -8.212 5.394 -9.41 10.008 -1.5 5.784 0.154 11.864 2.474 17.188 8.868 20.34 30.502 32.678 39.252 51.248 5.636 11.966 0 23.322 -8.308 33.616 -7.566 9.374 -18.284 17.278 -30.86 16.726 -0.232 -0.01 -0.218 0.324 0 0.352 15.646 1.914 29.796 -11.17 37.904 -24.826 2.982 -5.02 5.376 -10.714 5.256 -16.654v-0.0022Z" stroke-width="1"></path><path id="vector_10" fill="#000000" d="M309.602 33.07c-0.9 -0.406 -2.324 -0.554 -3.7 -0.588 1.318 -1.042 2.522 -2.308 3.022 -3.502 1.482 -3.54 -4.454 -7.568 -6.834 -3.404 -0.576 1.006 -0.838 2.93 -0.952 4.73 -0.382 -0.488 -0.75 -0.9 -1.026 -1.124 -2.766 -2.256 -6.31 0.278 -5.922 2.934 0.244 1.674 1.888 2.504 3.614 2.642 -1.164 0.858 -1.93 2.268 -1.502 3.662 0.932 3.04 6.028 2.94 6.658 -2.02 7.008 7.8 9.872 -1.868 6.64 -3.328l0.002 -0.002Zm-5.774 -6.504c1.124 -1.968 3.772 0.398 3.252 1.64 -0.496 1.182 -2.376 2.838 -4.012 3.816 0.058 -2.626 0.342 -4.728 0.758 -5.456h0.002Zm-7.658 5.26c-0.124 -0.86 1.32 -2.202 2.68 -1.098 0.344 0.282 1.046 1.206 1.588 2.03 -1.186 0.06 -4.096 0.232 -4.268 -0.932Zm4.56 5.392c-0.824 1.656 -2.262 1.444 -2.516 0.614 -0.33 -1.072 1.85 -2.228 2.85 -2.736 -0.04 0.894 -0.154 1.758 -0.334 2.124v-0.002Zm7.352 0.2c-1.064 0.068 -2.588 -1.072 -4.116 -2.922 1.388 -0.054 2.91 -0.024 3.952 0.16 1.898 0.336 0.558 2.746 0.164 2.762Z" stroke-width="1"></path></g><g id="spider web"><path id="vector_11" fill="#000000" d="m276.992 253.058 -0.514 -0.436c-3.916 -3.304 -14.312 -12.084 -17.368 -30.756 -4.724 -28.87 -1.958 -42.268 2.996 -89.782 -0.03 -1.14 -1.546 -1.408 -1.95 -0.324 -0.652 2.432 -1.982 31.83 -19.57 41.302 -10.708 5.766 -23.558 2.38 -32.014 -2.71 -9.86 -5.938 -17.268 -15.034 -24.432 -23.83l-15.8458 -19.454c-0.348 -0.428 -0.9782 -0.492 -1.4062 -0.144 -0.428 0.348 -0.492 0.978 -0.144 1.406 20.322 24.976 28.51 36.336 40.798 43.734 5.586 3.364 13.008 6.01 20.588 6.01 12.586 0 23.778 -7.318 29.478 -24.676 -1.228 9.612 -2.914 18.92 -6.278 26.478l-0.03 0.02c-8.65 6.376 -22.682 7.032 -32.076 4.38 -9.304 -2.624 -18.836 -7.276 -29.13 -14.21 -8.776 -13.802 -17.022 -28.06 -24.47 -42.35 -0.256 -0.488 -0.86 -0.68 -1.35 -0.424 -0.49 0.256 -0.6798 0.86 -0.4238 1.35 7.404 14.204 15.5918 28.376 24.3058 42.104 -3.892 18.722 -16.888 37.648 -31.768 46.3 -13.176 1.222 -26.434 2.09 -38.844 2.508 -1.276 0.046 -1.316 2.024 0.068 2 27.294 -0.46 37.122 -2.662 38.704 -2.406 23.958 3.872 50.68 17.444 66.368 34.962 0.132 0.216 0.254 0.798 1.648 4.346 0.154 0.394 0.532 0.636 0.932 0.636 0.696 0 1.19 -0.706 0.93 -1.366 -0.568 -1.45 -1.114 -2.906 -1.64 -4.37 0.144 -2.108 2.24 -5.314 3.962 -6.574 1.88 -1.374 4.204 -2.088 6.436 -2.654 8.028 -2.038 16.096 -2.52 24.652 -1.468 16.466 11.362 6.754 3.948 16.09 11.914 0.418 0.356 1.05 0.312 1.41 -0.11 0.358 -0.418 0.31 -1.05 -0.11 -1.41l-0.002 0.004Zm-53.41 -37.344c4.952 4.012 9.99 7.958 15.098 11.824 -7.088 -0.65 -14.276 2.896 -19.002 9.574 -1.824 -7.52 -3.1 -15.17 -3.81 -22.898 -0.12 -1.318 -2.112 -1.134 -1.992 0.184 0.636 6.908 1.716 13.756 3.232 20.506 -6.862 -8.356 -16.826 -15.906 -26.296 -19.892 4.316 -0.624 8.522 -1.284 12.576 -1.97 0.544 -0.092 0.912 -0.61 0.818 -1.154 -0.092 -0.542 -0.606 -0.912 -1.152 -0.818 -4.6 0.782 -9.394 1.524 -14.326 2.222 1.85 -3.308 10.856 -19.108 12.748 -22.492 3.864 5.558 7.8 11 11.786 16.294 0.196 0.26 0.496 0.398 0.8 0.398 0.812 0 1.298 -0.938 0.798 -1.602 -3.42 -4.544 -6.802 -9.198 -10.136 -13.938 11.578 6.278 22.008 8.512 31.114 6.668 -2.98 2.446 -6.036 4.71 -9.968 7.69 -0.76 0.576 -0.354 1.796 0.606 1.796 0.446 0 0.434 -0.076 2.698 -1.786 2.868 -2.164 5.772 -4.354 8.56 -6.67 -1.08 3.584 -1.852 6.902 -1.97 11.104 -0.112 3.948 1.308 10.044 3.548 14.752 -4.892 -3.712 -9.72 -7.498 -14.468 -11.346 -0.428 -0.348 -1.058 -0.282 -1.406 0.148 -0.348 0.428 -0.282 1.058 0.148 1.406h-0.004Zm20.2 13.154c-3.512 -3.866 -6.166 -13.028 -6.024 -18.056 0.146 -5.096 1.274 -8.72 2.844 -13.64 3.332 -3 6.402 -6.248 8.924 -9.942 -1.846 11.556 -0.28 20.734 2.234 35.5 0.762 4.478 1.658 9.768 4.458 15.138 -4.182 -2.944 -8.332 -5.946 -12.436 -9ZM218.68 186.206c9.244 2.606 22.014 2.02 30.912 -2.858 -2.63 4.65 -6.2 8.598 -10.176 12.198 -10.378 3.766 -22.95 1.268 -37.364 -7.428 -3.16 -4.576 -6.27 -9.228 -9.322 -13.94 9.06 5.718 17.586 9.668 25.952 12.028h-0.002Zm-29.01 -13.082c3.438 5.362 6.956 10.65 10.536 15.842 -1.972 3.544 -11.976 21.096 -13.962 24.668 -8.238 1.132 -16.82 2.138 -25.486 2.996 13.386 -9.294 24.78 -26.346 28.912 -43.506Zm-26.342 45.258c7.94 -0.812 15.792 -1.748 23.352 -2.788 11.44 3.762 24.364 13.658 31.6 24.18 0.848 3.292 1.8 6.56 2.856 9.794 -14.664 -14.75 -36.742 -26.628 -57.808 -31.186Zm71.128 23.81c-5.266 1.338 -8.686 3.008 -11.014 7.976 -1.154 -3.438 -2.188 -6.914 -3.102 -10.42 5.096 -8.414 14.156 -12.222 22.196 -9.314 4.516 3.362 9.084 6.66 13.694 9.886 -7.48 -0.556 -14.64 0.064 -21.774 1.872Zm26.694 -0.894c-0.066 -0.122 -0.122 -0.214 -0.236 -0.312 -3.3 -2.854 -5.766 -10.252 -6.716 -15.852 -2.924 -17.22 -5.266 -27.946 -1.514 -43.432 1.214 -2.576 2.228 -5.368 3.09 -8.306 -1.564 17.386 -1.672 30.24 1.364 48.792 1.654 10.11 5.382 17.43 9.148 22.608 -1.716 -1.154 -3.428 -2.324 -5.134 -3.498h-0.002Z" stroke-width="1"></path><path id="vector_12" fill="#000000" d="M166.594 185.264c9.594 -11.414 10.32 -17.98 7.638 -28.58 -2.558 -10.114 -6.758 -19.666 -12.478 -28.396 -0.302 -0.46 -0.922 -0.59 -1.384 -0.288 -0.462 0.302 -0.59 0.922 -0.288 1.384 5.6 8.542 9.7082 17.89 12.2122 27.788 2.538 10.024 1.9158 15.922 -7.2302 26.802 -12.616 15.006 -33.39 25.616 -50.078 33.18 -1.202 0.544 -0.386 2.366 0.826 1.822 17.928 -8.128 37.982 -18.49 50.782 -33.7142v0.0022Z" stroke-width="1"></path><path id="vector_13" fill="#000000" d="M225.626 266.224c-16.286 -12.072 -31.1138 -22.71 -47.6418 -30.65 -19.896 -9.558 -39.742 -13.506 -57.428 -11.428l1.844 1.814c16.902 -1.618 35.768 2.312 54.716 11.416 16.372 7.864 31.1158 18.446 47.3178 30.454 0.446 0.332 1.074 0.234 1.398 -0.208 0.33 -0.444 0.236 -1.07 -0.208 -1.398h0.002Z" stroke-width="1"></path><path id="vector_14" fill="#000000" d="M266.364 255.674c-5.77 -2.432 -11.59 -4.862 -15.338 -5.318 -8.924 -1.09 -18.058 5.742 -19.566 14.608 -0.092 0.544 0.274 1.06 0.818 1.154 0.544 0.094 1.06 -0.274 1.154 -0.818 1.336 -7.866 9.446 -13.924 17.352 -12.958 3.544 0.43 9.056 2.752 14.802 5.176 0.51 0.216 1.096 -0.024 1.31 -0.534 0.214 -0.508 -0.024 -1.096 -0.534 -1.31h0.002Z" stroke-width="1"></path><path id="vector_15" fill="#000000" d="M321.044 240.752c-0.772 0 -1.262 -0.852 -0.852 -1.522 6.104 -9.978 11.544 -20.484 16.17 -31.224 0.218 -0.508 0.806 -0.742 1.314 -0.522 0.508 0.218 0.742 0.806 0.522 1.314 -4.664 10.828 -10.146 21.418 -16.3 31.476 -0.188 0.308 -0.518 0.478 -0.854 0.478Z" stroke-width="1"></path><path id="vector_16" fill="#000000" d="M329.122 237.502c-0.774 0 -1.264 -0.858 -0.848 -1.526 3.404 -5.49 6.468 -11.264 9.104 -17.164 0.226 -0.504 0.818 -0.73 1.322 -0.504 0.504 0.226 0.73 0.816 0.504 1.322 -2.674 5.98 -5.78 11.834 -9.232 17.4 -0.188 0.306 -0.516 0.472 -0.85 0.472Z" stroke-width="1"></path><g id="group"><path id="vector_17" fill="#000000" d="M86.02 185.558c-0.51 0 -0.946 -0.388 -0.994 -0.908l-2.076 -22.256c-0.052 -0.55 0.354 -1.038 0.902 -1.088 0.548 -0.05 1.038 0.354 1.088 0.902l2.076 22.256c0.054 0.586 -0.406 1.094 -0.996 1.094Z" stroke-width="1"></path><path id="vector_18" fill="#000000" d="M94.8262 196.402c-0.484 0 -0.91 -0.352 -0.986 -0.844 -1.774 -11.298 -2.75 -22.824 -2.896 -34.258 -0.006 -0.552 0.436 -1.006 0.988 -1.012 0.57 0.012 1.006 0.436 1.012 0.988 0.146 11.34 1.112 22.77 2.872 33.974 0.096 0.606 -0.372 1.156 -0.99 1.156v-0.004Z" stroke-width="1"></path><path id="vector_19" fill="#000000" d="M102.14 204.528c-0.514 0 -0.95 -0.394 -0.996 -0.914l-1.99 -23.126c-0.112 -1.308 1.878 -1.51 1.992 -0.172l1.99 23.126c0.05 0.584 -0.408 1.086 -0.996 1.086Z" stroke-width="1"></path>
            </g></g></g>
          </svg>
          <p className="text-lg md:text-xl mt-4">
            Oops! There seems to be no news for you at this moment. Have you followed any topics so far?
            <a href="/topics" className="text-primary underline"> go to explore</a>
          </p>
        </div>
      </div>
    )
  );
};

import nookies from "nookies";
import { GetServerSideProps } from "next";
export const getServerSideProps: GetServerSideProps = async (context) => {
  // Check authentication (e.g., check cookies or token)
  const cookies = nookies.get(context);
  const token = cookies['access_token'];
  const refresh_token = cookies['refresh_token'];
  if (!token || !refresh_token) {
    return {
      redirect: {
        destination: '/landing',
        permanent: false,
      },
    };
  }
  return { props: {} };
};

export default Home;
